---
layout: post
title:  "vim"
date:   2016-04-21 13:00:00 +0900
categories: vim
---

# commands

{% highlight text %}
>G -> indent to last line
f char charまで飛ぶ
; f+ を繰り返せる
, f+ を戻る
t char charの1文字前まで飛ぶ
dt. .の前まで消す
s １文字消して挿入モード
* find the word cursor is on
daw delete a word
Ctrl+x 数字へ飛んで-1
Ctrl+a 数字へ飛んで+1
gu 子文字へ
gU 大文字へ
gUU １行大文字へ（これは特殊）
gUap capitalize paragraph
ga カーソルの下の文字の文字コードが分かる
:digraphs ダイグラフ一覧
:h digraph-table ダイグラフ一覧
gv 直前のvisual選択を再選択
vit visually select inside a tag
vat visually select around a tag
va" visually select around "
viw visually select a word
vaw visually select around a word
vis visually select a sentence
vip visually select a paragraph
cit change inside a tag
gUit タグで囲まれた文字を大文字にする
I 先頭に移動してinsert mode
3G 3行目に移動
Ctrl+o ジャンプリストを遡る
q: コマンドライン履歴を表示
<C+w>s 水平方向に分割
<C+w>v 垂直方向に分割
<C+w>= ウィンドウの大きさを揃える
<C+w>_ アクティブウィンドウの高さを最大化
<C+w>| アクティブウィンドウの幅を最大化
10<C+w>_ アクティブウィンドウの高さを10に
10<C+w>| アクティブウィンドウの幅を10に
<C+w>T 現在のウィンドウを新しいタブに移動
gt 次のタブへ移動
gT 次のタブへ逆順で移動
<C+g> 現在のファイルの名前と状態をエコー
e 単語の末尾に進む
ge 前の単語の末尾に戻る
{% endhighlight %}

# insert mode

{% highlight text %}
Ctrl+h delete one char
Ctrl+w delete one word
Ctrl+u delete one line
Ctrl+o change to insert-normal mode
Ctrl+o zz インサートモードのまま画面中央に
Ctrl+r 0 paste register 0
Ctrl+r Ctrl+o 0 paste register 0 in plain mode
Ctrl+r = 計算できる
Ctrl+v 文字コード 文字コードを入力できる
Ctrl+k ダイグラフ ダイグラフを入力できる
<ESC>o <CR>と同じ
{% endhighlight %}

# visual mode
{% highlight text %}
o visual選択の反対側へいく
{% endhighlight %}

# command line mode
{% highlight text %}
:1 1行目へ移動
:p カーソル行を表示
:d カーソル行を削除
:j 下の行と結合
:3p 3行目へ移動して表示
:.,$p 現在行から最後の行を表示
:/<html>/+1,/<\/html>/-1p htmlタグに囲まれた部分を表示
:.,.+3p 現在行から＋３行を表示
:6t. 6行目を現在行にコピー(t means copy To)
:'<,>'m0 visual選択を先頭に移動
:'<,>'m$ visual選択を末尾に移動
@: 直前のコマンドラインモードを繰り返す 連続なら@@
:'<,>'normal . 選択範囲に直前のコマンドを行う
:%normal A; すべての行に;をつける
Ctrl+d 入力中に候補を表示
:colorscheme Ctrl+d colorschemeの候補を表示
: xxx Ctrl+r Ctrl+w xxx カーソルの下の単語をコマンドラインへ表示
:%s//<C-r><C-w>/g *でハイライトした単語をカーソルの下の単語で置換
C+f コマンドラインウィンドウを開く
:ls バッファリストを表示 C+^で代替バッファと切り替え
:b 3 バッファナンバー3を開く
:!ruby % 開いているファイルをruby実行
:r !ls シェル実行結果をバッファに表示
:w !sh 開いているバッファをシェル実行する
:clo アクティブウィンドウを閉じる
:on アクティブウィンドウ以外を閉じる
:lcd {path} カレントディレクトリをpathに移動
:windo lcd {path} すべてのウィンドウのカレントディレクトリをpathに移動
:tabc 現在のタブをとじる
:tabo 現在のタブを残して他のタブを閉じる
:tabm [N] タブの位置を移動する N=0で先頭に
:e %:h<Tab> 開いてるバッファのディレクトリが保管される
{% endhighlight %}

# ex mode
{% highlight text %}
:s/foo/bar replace one word
:s/foo/bar/g replace words
:/<html>/+1,/<\/html>/-1p HTMLタグ行を除く中身をプリント
{% endhighlight %}

# tips
:bn を繰り返すには @: さらに繰り返すには @@
:bn は C+oで戻ればいい(:bpだと@:が:bpになる)
C+z でvimをバックグラウンドに移動、fgでvimに戻る
:w !sudo tee % 書き込み権限がないファイルに書込み
v/ge geの場所まで選択
d/ge geの場所まで削除


# vimrc
10進数でインクリメント  
{% highlight text %}
set nrformats=
{% endhighlight %}

